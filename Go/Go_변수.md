# Go의 변수 정리

## 변수란

프로그래밍에서 변수는 **값을 저장하는 메모리 공간을 가리키는 이름**이다.
메모리에 있는 데이터 조작은 프로그래밍에 있어서 핵심이고, 변수를 활용하면 쉽고 효과적이게 메모리에 있는 데이터를 조작할 수 있다.

<br>

## 변수 선언법

```go
var foo int = 10 
// [변수선언 키워드] [변수명] [타입] = [초기 값]
```
var는 변수 선언을 알리는 키워드로 variable의 약자, foo는 선언할 변수의 이름, int는 변수의 타입으로 여기서는 정수형 int를 사용하여 정수값을 저장했고 이외 여러가지 타입이 존재한다

<br>

## 변수의 4가지 속성

- 이름: 프로그래머는 이름을 통해 값이 저장된 메모리 공간에 손쉽게 접근이 가능하다
- 값: 변수가 가리키는 메모리 공간에 저장될 값
- 주소: 변수가 저장된 메모리 공간의 시작 주소를 말한다
- 타입: 변수값의 형태를 말한다. 정수 타입, 실수 타입, 문자열 등 다양한 타입들이 있으며, **자료형 or 데이터 타입**이라고도 말한다

![](https://user-images.githubusercontent.com/50852963/136579614-55595dd2-1e73-4360-b40e-520b7f2cc519.png)

해설: `변수 foo를 선언`하고 `변수 타입은 int형`이다. 컴퓨터 메모리에 `int타입 크기에 해당하는 공간을 할당`하고 그 공간이 위치한 `메모리 시작 주소`를 변수 foo로 지칭한다. 그리고 해당 공간에 정수형 값 1000을 `복사`한다.

<br>

## 수 명명규칙

Go 언어에서 변수명을 지을 때 반드시 다음과 같은 규칙을 준수해야 한다.

- 변수명은 `문자`, `_`, `숫자`를 사용하여 지을 수 있지만 첫 글자는 반드시 문자나 _로 시작해야한다(영어가 아닌 한글, 한문 사용도 가능하다)
  - 올바른 예시: abc, a123, _abc, 하나, _둘
  - 틀린 예시: 123, 11abs, %abd_
- `_`를 제외한 다른 특수문자(space포함)를 포함할 수 없다
  - 올바른 예시: ab_cd. abc_, _abcsd
  - 틀린 예시: ab!ac, ac$ds, 하나 둘, [aba]

빈드시 지켜야 하는 것은 아니나 다음과 같은 권장 사항이 있다

- 변수명은 영문자를 제외한 다른 언어의 문자를 사용하지 않는다
- 변수명에 여러 단어가 이어지면 두 번째 단어부터는 대문자로 시작한다
  - 올바른 예시: firstSescond, countNumber
  - 틀린 예시: first_name, secondname, do_Something
- 변수명은 되도록 짧게 한다. 잠시 사용되는 로컬 변수는 한 글자 사용 권장(개인적으로는 이 사항은 경우에 따라 무시해도 괜찮다고 생각한다)
- 밑줄 `_`(언더 바) 사용은 일반적으로 하지 않는다. `_`를 사용하는 경우는 함수와 패키지 부분에서 설명 참고

<br>

## 변수의 타입

### 숫자 타입

|이름|설명|값의 범위|
|-|-|-|
|uint8|1바이트 부호없는 정수|0 ~ 255|
|uint16|2바이트 부호 없는 정수|0 ~ 65535|
|uint32|4바이트 부호 없는 정수|0 ~ 4294967295|
|uint64|8바이트 부호 없는 정수|0 ~ 18446744073709551615|
|int8|1바이트 부호 있는 정수|-128 ~ 127|
|int16|2바이트 부호 있는 정수|-32768 ~ 32767|
|int32|4바이트 부호 있는 정수|-2147483648 ~ 214783647|
|int64|8바이트 부호 있는 정수|-9223372036854775808 ~ 9223372036854775807|
|float32|4바이트 실수|IEEE-754 32비트 실수|
|float64|8바이트 실수|IEEE-754 64비트 실수|
|complex64|8바이트 복소수(진수,가수)|진수와 가수 범위는 float32 범위와 같음|
|complex128|16바이트 복소수(진수,가수)|진수와 가수 범위는 float64 범위와 같음|
|byte|uint8의 별칭 1바이트 데이터를 나타낼 때 사용|0 ~ 255|
|rune|int32의 별칭 UTF-8로 문자 하나를 나타낼 때 사용|-2147483648 ~ 214783647|
|int|32비트 컴퓨터에서는 int32<br>64비트 컴퓨터에서는 int64와 같음||
|uint|32비트 컴퓨터에서는 uint32<br>64비트 컴퓨터에서는 uint64와 같음||

### 그외 타입

- 불리언(boolean): 참과 거짓 두 값만 가지는 타입. `bool`로 선언하고 참은 true, 거짓은 false로 표기
- 문자열: 문자열 타입의 키워드는 `string`이다
- 배열: 같은 타입의 요소들로 이루어진 연속된 메모리 공간을 나타내는 자료구조
- 슬라이스: Go 언어에서 제공하는 가변 길이 배열. 배열은 고정 길이로 한 번 초기화 되면 늘리거나 즐일 수 없는 반면에 슬라이스는 길이를 늘리거나 줄일 수 있다
- 구조체: 필드(변수)의 집합 자료구조. 보통 상관관계가 있는 데이터를 묶을 때 사용한다. 예로 회원 구조체는 회원ID, 회원명, 주소 등의 필드로 구성할 수 있음
- 포인터: 메모리 주소를 값으로 갖는 타입. 포인터를 이용해서 같은 메모리 공간을 가리키는 여러 변수를 만들 수 있다
- 함수 타입: 함수를 가리키는 타입. 다른 말로 **함수 포인터**라고 한다. 사용할 함수를 동적으로 바꿀 때 유용하다
- 인터페이스: 메서드 정의의 집합
- 맵: Key와 Value 쌍의 구조로 데이터를 저장하는 자료구조. 키를 사용하여 데이터를 탐색하는데 특화된 자료구조 예로 들어 전화번호부 사전과 비슷하다.
- 채널: 멀티스레드 환경에 특화된 큐 형태 자료구조


<br>

## 변수 선언의 다른 방법

```go
package main

import "fmt"

func main() {
    var a int = 3
    var b int // 초기값 생략, 초기값은 타입별 기본값으로 셋팅된다
    var c = 4 // 타입 생략, 변수 타입은 우변 값의 타입으로 지정된다
    d := 5 // 선언 대입문 :=를 사용하여 var 키워드와 타입 생략

    fmt.Println(a, b, c, d)
    // 3 0 4 5
}
```

### 숫자값 기본 타입

타입을 생략하면 우변의 타입으로 변수의 타입이 지정된다. 만약 우변이 숫자일 경우 기본 타입으로 결정된다. 정수는 int, 실수는 float64가 기본 타입이다.

### 선언 대입문 :=

선언 대입문이란, 선언과 대입을 한 번에 하는 구문이다. 선언 대입문을 활용하면 var키워드와 타입을 생략하여 간결하게 변수를 선언할 수 있다.

### 타입별 기본값
|타입|기본값|
|-|-|
|모든 정수 타입 <br> (int8, int16, int32, int64, uint8, uint16, uint32, uint64, int, uint, byte, rune)|0|
|모든 실수 타입 <br> (float32, float64, complex64, complex128)|0.0|
|불리언|false|
|문자열|""(빈 문자열)|
|그 외|nil(정의되지 않은 메모리 주소를 나타내는 Go 키워드)|

<br>

## 타입 변환

Go 언어는 강 타입 언어이며, 강 타입 언어 중에서도 가장 강하게 타입 검사를 하는 언어다. 같은 숫자값이라도 타입이 다르면 연산이 안 되기 때문에 타입을 변환해서 연산을 해줘야 한다. 이 행위를 `타입 변환`이라고 하며, 타입 변환은 원하는 타입명 키워드를 적고 ()로 변화시킬 값이나 변수를 묶어준다.

### 타입 변환을 하지 않고 연산
```go
a := 3  // int
var b float64 = 3.5 // float64

var c int = b // float64 변수 b는 int 타입이 아니므로 대입 불가
d := a * b // 다른 타입인 int 변수와 float64 변수 끼리 연산 불가

var e int64 = 7 
f := a * e // a는 int타입 e는 int64로 같은 정수값이긴 하나 엄밀히 타입은 다르다 따라서 연산 불가
```

### 타입 변환을 활용한 연산
```go
package main

import "fmt"

func main() {
    a := 3
    var b float64 = 3.5 

    var c int = int(b)  // float64 -> int
    d := float64(a * c) // int -> float64

    var e int64 = 7
    f := int64(d) * e // float64 -> int64 

    var g int = int(b * 3) // float64 -> int
    var h int = int(b) * 3 // float64 -> int

    fmt.Println(g, h, f)
    // 10 9 63
}
```

### 타입 변환 시 주의점

- 실수 타입에서 정수 타입으로 타입 변환하면 소수점 이하 숫자는 반올림 되지 않고 버려진다
- 큰 범위(사이즈)를 갖는 타입에서 작은 범위(사이즈)를 갖는 타입으로 변환하면 값이 달라질 수 있다

<br>

## 변수의 범위

- 패키지 전역 변수(글로벌 변수): 패키지 내에서 어디서나 접근할 수 있는 변수
- 지역 변수: 함수 범위 안에 선언되어 속해 있는 변수
  - {} 중괄호가 있고 그 안에 선언되어 속해 있는 변수도 해당 중괄호 범위에 있는 지역 변수 이므로 중괄호가 끝나는 지점에서 사라진다 

